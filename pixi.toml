[workspace]
authors = ["phreed"]
channels = ["conda-forge"]
name = "fcos-ignition-coder"
platforms = ["linux-64"]
version = "0.2.0"
description = "Decode and encode Fedora CoreOS Ignition configuration files"

[tasks.build]
cmd = "cargo build --release"

[tasks.test]
cmd = "cargo test"

[tasks.run]
cmd = "cargo run --"

[tasks.bump-version]
cmd = "nu scripts/bump-version.nu"
description = "Bump version in Cargo.toml and pixi.toml (interactive)"

[tasks.release]
cmd = "nu scripts/release.nu"
description = "Complete release process: bump version, test, build, commit, tag, and push"

[tasks.release-dry-run]
cmd = "nu -c 'print \"ğŸ” Release dry-run checklist:\"; print \"âœ… Run tests: cargo test\"; print \"âœ… Build release: cargo build --release\"; print \"âœ… Check git status: git status\"; print $\"âœ… Current branch: (^git branch --show-current | str trim)\"; print \"\"; print \"To perform actual release: pixi run release <version>\"'"
description = "Check release readiness without making changes"

[tasks.generate-wix-assets]
cmd = "bash scripts/create-wix-placeholders.sh"
description = "Generate placeholder WiX installer assets (MSI images and icons)"

[dependencies]
rust = ">=1.75"
nushell = ">=0.86"
